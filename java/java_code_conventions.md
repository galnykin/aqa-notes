### Свод правил Java Code Conventions

Java Code Conventions — это документ, разработанный Sun Microsystems (ныне Oracle), который устанавливает стандарты и рекомендации по форматированию, именованию и организации кода на Java. Эти правила помогают создавать читаемый, поддерживаемый и единообразный код, что особенно важно в командной разработке. Ниже представлено подробное описание основных положений Java Code Conventions, переведённых и адаптированных на русский язык, с примерами и пояснениями.

---

#### 1. Структура файла

- **Кодировка**: Файлы Java должны использовать кодировку UTF-8.
- **Порядок секций в файле**:
    1. Комментарий с лицензией или копирайтом (если требуется).
    2. Объявление пакета (`package`).
    3. Импорты (`import`).
    4. Объявление класса или интерфейса.
- **Пример**:
  ```java
  // Copyright (c) 2025 Example Corp. All rights reserved.
  package com.example.myapp;

  import java.util.ArrayList;
  import java.util.List;

  public class MyClass {
      // Код класса
  }
  ```
- **Правила для импортов**:
    - Группируйте импорты по категориям: стандартные библиотеки (`java.*`, `javax.*`), затем сторонние библиотеки, затем собственные пакеты.
    - Избегайте импорта с использованием `*` (например, `import java.util.*`), чтобы улучшить читаемость.
    - Сортируйте импорты в алфавитном порядке.
    - Пример:
      ```java
      import java.io.BufferedReader;
      import java.io.FileReader;
      import com.example.utils.Helper;
      ```

- **Пустые строки**:
    - Между секциями (пакет, импорты, класс) ставьте одну пустую строку.
    - Между методами и логическими блоками в классе — одна пустая строка.

---

#### 2. Отступы и форматирование

- **Отступы**:
    - Используйте **4 пробела** для каждого уровня отступа. Табуляция (`\t`) не рекомендуется.
    - Пример:
      ```java
      public void myMethod() {
          if (true) {
              System.out.println("Indented by 4 spaces");
          }
      }
      ```

- **Длина строки**:
    - Максимальная длина строки — **80 символов**. Если строка длиннее, переносите её на следующую с дополнительным отступом.
    - Пример переноса:
      ```java
      public void longMethodName(String parameterOne, String parameterTwo,
              int parameterThree) {
          // Код
      }
      ```

- **Фигурные скобки**:
    - Используйте стиль "Egyptian brackets" (скобки на той же строке):
      ```java
      public class MyClass {
          public void myMethod() {
              if (condition) {
                  // Код
              }
          }
      }
      ```
    - Не ставьте фигурные скобки для однострочных блоков, если это улучшает читаемость:
      ```java
      if (condition) return;
      ```

- **Пробелы**:
    - Ставьте пробелы после ключевых слов (`if`, `for`, `while`) и перед открывающей скобкой:
      ```java
      if (condition) { // Пробел после if
      }
      ```
    - Не ставьте пробелы внутри скобок:
      ```java
      int x = method(a, b); // Без пробелов внутри (a, b)
      ```
    - Ставьте пробелы вокруг операторов (`=`, `+`, `&&`, и т.д.):
      ```java
      int sum = a + b;
      ```

---

#### 3. Именование

- **Общие принципы**:
    - Имена должны быть понятными, описывающими назначение переменной, метода или класса.
    - Используйте английский язык (или транслитерацию, если английский невозможен).
    - Избегайте сокращений, если они не общеприняты (например, `num` вместо `number` допустимо).

- **Имена классов и интерфейсов**:
    - Используйте **UpperCamelCase** (каждая первая буква слова заглавная).
    - Имена классов — существительные (например, `Customer`, `OrderProcessor`).
    - Имена интерфейсов могут быть прилагательными или существительными (например, `Runnable`, `Comparable`).
    - Пример:
      ```java
      public class OrderProcessor {
      }
      public interface Printable {
      }
      ```

- **Имена методов**:
    - Используйте **lowerCamelCase** (первая буква строчная, последующие слова с заглавной).
    - Имена методов — глаголы или фразы, описывающие действие (например, `calculateTotal`, `getName`).
    - Пример:
      ```java
      public void calculateTotal() {
      }
      ```

- **Имена переменных и полей**:
    - Используйте **lowerCamelCase**.
    - Имена — существительные или короткие фразы (например, `userName`, `totalAmount`).
    - Избегайте однобуквенных имён, кроме временных переменных в циклах (`i`, `j`).
    - Пример:
      ```java
      private String userName;
      private int maxRetries = 3; // Константа в поле
      ```

- **Константы**:
    - Используйте **UPPER_SNAKE_CASE** (все буквы заглавные, слова разделены подчёркиванием).
    - Применяется для `static final` полей.
    - Пример:
      ```java
      public static final int MAX_CONNECTIONS = 100;
      ```

- **Пакеты**:
    - Используйте строчные буквы без пробелов и подчёркиваний.
    - Начинайте с обратного доменного имени (например, `com.example.utils`).
    - Пример:
      ```java
      package com.example.utils;
      ```

---

#### 4. Комментарии

- **Типы комментариев**:
    - **Javadoc**: Для документирования классов, методов и полей.
    - **Блочные комментарии** (`/* */`): Для объяснения сложных блоков кода.
    - **Однострочные комментарии** (`//`): Для кратких пояснений.
- **Правила Javadoc**:
    - Используйте для всех публичных классов, методов и полей.
    - Начинайте с `/**` и заканчивайте `*/`.
    - Пример:
      ```java
      /**
       * Calculates the sum of two numbers.
       * @param a first number
       * @param b second number
       * @return sum of a and b
       */
      public int sum(int a, int b) {
          return a + b;
      }
      ```
- **Рекомендации**:
    - Пишите комментарии только там, где они добавляют ясности.
    - Избегайте очевидных комментариев (например, `// Увеличивает i на 1` для `i++`).
    - Обновляйте Javadoc при изменении кода.

---

#### 5. Объявления

- **Одна переменная на строку**:
  ```java
  int x = 0;
  int y = 1; // Не int x = 0, y = 1;
  ```
- **Инициализация**:
    - Инициализируйте переменные при объявлении, если возможно:
      ```java
      int count = 0; // Лучше, чем int count;
      ```
- **Модификаторы доступа**:
    - Указывайте модификаторы явно (`public`, `private`, и т.д.).
    - Пример:
      ```java
      private int value; // Не int value;
      ```

- **Порядок модификаторов**:
    - Следуйте порядку: `public`, `private`, `protected`, `static`, `final`, `transient`, `volatile`.
    - Пример:
      ```java
      public static final int CONSTANT = 42;
      ```

---

#### 6. Программные конструкции

- **Условные операторы**:
    - Используйте фигурные скобки даже для однострочных блоков, если это улучшает читаемость:
      ```java
      if (condition) {
          doSomething();
      }
      ```
    - Избегайте сложных условий; выносите их в переменные:
      ```java
      boolean isValid = x > 0 && y < 10;
      if (isValid) {
          // Код
      }
      ```

- **Циклы**:
    - Используйте понятные имена для счётчиков:
      ```java
      for (int index = 0; index < list.size(); index++) {
          // Код
      }
      ```
    - Предпочитайте улучшенный цикл `for` для коллекций:
      ```java
      for (String item : list) {
          // Код
      }
      ```

- **Методы**:
    - Ограничивайте длину метода (рекомендуется до 50 строк).
    - Разбивайте сложные методы на меньшие.
    - Пример:
      ```java
      public void processOrder(Order order) {
          validateOrder(order);
          saveOrder(order);
      }
      ```

---

#### 7. Исключения

- **Обработка исключений**:
    - Используйте `try-with-resources` для автоматического закрытия ресурсов:
      ```java
      try (BufferedReader reader = new BufferedReader(new FileReader("file.txt"))) {
          String line = reader.readLine();
      } catch (IOException e) {
          // Обработка
      }
      ```
- **Специфичные исключения**:
    - Ловите конкретные исключения, а не общий `Exception`:
      ```java
      try {
          // Код
      } catch (FileNotFoundException e) {
          // Обработка
      }
      ```

- **Документируйте исключения**:
    - Указывайте в Javadoc все исключения, которые метод может выбросить:
      ```java
      /**
       * @throws IOException if file cannot be read
       */
      public void readFile(String path) throws IOException {
      }
      ```

---

#### 8. Пакеты и организация кода

- **Имена пакетов**:
    - Используйте обратное доменное имя (например, `com.example.project`).
    - Пример:
      ```java
      package com.example.model;
      ```
- **Структура пакетов**:
    - Разделяйте код по функциональности: `model`, `utils`, `controller`, и т.д.
    - Пример структуры:
      ```
      src
      └── com.example
          ├── model
          │   └── User.java
          ├── utils
          │   └── Helper.java
          └── controller
              └── MainController.java
      ```

---

#### 9. Работа в IntelliJ IDEA

- **Автоматическое форматирование**:
    - Используйте **Code → Reformat Code** (Ctrl+Alt+L) для приведения кода к стандартам.
    - Настройте стиль кода в **File → Settings → Editor → Code Style → Java** в соответствии с Java Code Conventions.
- **Импорты**:
    - Оптимизируйте импорты с помощью **Ctrl+Alt+O**.
- **Проверка кода**:
    - Используйте **Analyze → Inspect Code** для поиска нарушений конвенций.
- **Шаблоны Javadoc**:
    - Генерируйте Javadoc через **Code → Generate** (Alt+Insert) → Javadoc.

---

#### 10. Дополнительные рекомендации

- **Избегайте магических чисел**:
    - Заменяйте числа константами:
      ```java
      public static final int MAX_USERS = 100;
      if (users.size() < MAX_USERS) {
          // Код
      }
      ```
- **Пишите самодокументирующийся код**:
    - Используйте понятные имена, чтобы код был понятен без комментариев.
    - Пример:
      ```java
      // Плохо
      int x = 86400; // Секунды в сутках
      // Хорошо
      final int SECONDS_PER_DAY = 86400;
      ```

- **Тестирование**:
    - Пишите юнит-тесты для проверки функциональности.
    - Используйте JUnit или TestNG и следуйте тем же конвенциям:
      ```java
      import org.junit.Test;
      import static org.junit.Assert.assertEquals;
  
      public class MyTest {
          @Test
          public void testSum() {
              assertEquals(4, sum(2, 2));
          }
      }
      ```

- **Соблюдайте консистентность**:
    - Если проект использует отступы в 2 пробела вместо 4, следуйте этому стилю, чтобы сохранить единообразие.

---

#### Почему важны Java Code Conventions?

- **Читаемость**: Единый стиль упрощает чтение кода для других разработчиков.
- **Поддерживаемость**: Код, соответствующий стандартам, легче модифицировать и отлаживать.
- **Командная работа**: Конвенции обеспечивают согласованность в больших командах.
- **Инструменты**: Современные IDE, такие как IntelliJ IDEA, поддерживают автоматическое форматирование по этим стандартам.

---

#### Рекомендации

- Ознакомьтесь с оригинальным документом [Java Code Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-introduction.html) для полного понимания.
- Настройте IntelliJ IDEA для автоматического применения этих правил через настройки Code Style.
- Регулярно используйте статический анализ кода для проверки соответствия стандартам.
- Пишите Javadoc для всех публичных API, чтобы упростить документирование.
- Придерживайтесь принципа "меньше — лучше": избегайте избыточных комментариев и сложных конструкций.

---
