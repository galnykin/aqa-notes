### Введение в SQL: Подробное руководство по первой лекции

Эта лекция представляет собой введение в SQL (Structured Query Language), основанный на курсе, где используются материалы из файлов Excel (Intro SQL Blocks.xlsx), база данных Costco, а также инструменты вроде MySQL Workbench. Мы подробно разберём каждую тему, включая план урока, информацию о курсе, установку инструментов, интерфейс MySQL Workbench и его ключевые функции. Всё это в контексте автоматизации тестирования (AQA), где SQL часто используется для проверки данных в базах (например, валидация результатов после действий в веб-приложении). 

---

#### Lesson #1: Intro to SQL
Первая лекция посвящена основам SQL — языку для работы с реляционными базами данных (РБД). SQL позволяет создавать, изменять и запрашивать данные в таблицах. В контексте AQA SQL используется для:
- Проверки данных после действий пользователя (например, после регистрации проверить запись в таблице users).
- Генерации тестовых данных (INSERT-запросы).
- Валидации результатов (SELECT-запросы с сравнением ожидаемого и фактического).

SQL делится на подгруппы:
- DDL (Data Definition Language): CREATE, ALTER, DROP для структур.
- DML (Data Manipulation Language): INSERT, UPDATE, DELETE для данных.
- DQL (Data Query Language): SELECT для запросов.
- DCL (Data Control Language): GRANT, REVOKE для прав доступа.

Пример простого запроса:
```sql
SELECT * FROM users WHERE username = 'testuser'; -- Проверка пользователя в AQA
```
Связь с другими темами: В клиент-серверной модели SQL-запросы — это запросы клиента (приложения) к серверу БД, аналогично RESTful API в Selenium.

---

#### Lesson Plan
План урока охватывает введение в SQL, установку инструментов и базовую работу с MySQL Workbench. Структура:
1. **Введение**: Что такое SQL, его роль в AQA (проверка данных после тестов).
2. **Материалы**: Изучение файлов Excel и базы Costco.
3. **Установка**: MySQL и Workbench.
4. **Интерфейс**: Обзор layout, schema, файлов и запросов.
5. **Практика**: Первые запросы и EER-диаграмма.

План ориентирован на 1–2 часа, с акцентом на практику. В AQA это помогает быстро начать тестирование БД, например, для проверки результатов после API-запросов.

Связь с другими темами: План урока аналогичен стратегии тестирования — от установки (arrange) к выполнению запросов (act) и валидации (assert).

---

#### Info about Course (Intro SQL Blocks.xlsx)
Этот файл содержит общую информацию о курсе:
- **Цели**: Освоить SQL для AQA, понять реляционные БД, научиться писать запросы.
- **Структура**: Несколько уроков от базового SQL до сложных запросов (JOIN, GROUP BY).
- **Аудитория**: QA-инженеры, начинающие в SQL.
- **Материалы**: Ссылки на Google Drive, Slack, примеры баз данных.
- **Продолжительность**: 4–6 уроков, с домашними заданиями.

В контексте AQA курс помогает интегрировать SQL в тесты, например, для проверки данных после действий в Selenium.

Связь с другими темами: Курс аналогичен JUnit-тестам — от базовых запросов (простые тесты) к сложным (параметризованные тесты).

---

#### Costco Database (Intro SQL Blocks.xlsx)
База данных Costco — пример реляционной БД для практики:
- **Таблицы**: Products (продукты), Customers (клиенты), Orders (заказы), Employees (сотрудники).
- **Структура**: Связи между таблицами (foreign keys), например, Orders ссылается на Customers.
- **Данные**: Примерные записи для Costco (продукты, цены, заказы).
- **Использование**: Импорт в MySQL Workbench для выполнения запросов.

Пример запроса:
```sql
SELECT * FROM Products WHERE price > 100; -- Проверка дорогих продуктов
```

В AQA это полезно для тестирования баз данных после действий пользователя (например, добавление заказа через UI).

Связь с другими темами: База данных — это сервер в клиент-серверной модели, где SQL-запросы — запросы клиента.

---

#### Introduction to SQL (Intro SQL Blocks.xlsx)
Файл вводит в SQL:
- **Что такое SQL**: Язык для управления данными в РБД (Relational Database Management Systems).
- **РБД**: Таблицы, строки, столбцы, ключи (primary, foreign).
- **Почему SQL в AQA**: Для проверки данных (например, после регистрации в веб-приложении проверить запись в БД).
- **Базовые команды**:
    - `CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(50));`
    - `INSERT INTO users (id, name) VALUES (1, 'John');`
    - `SELECT * FROM users;`

Связь с другими темами: SQL-запросы аналогичны локаторам — SELECT как поиск элементов по критериям.

---

#### SQL Course Materials: https://drive.google.com/drive/folders/1HXu-b5cXw4E7OdnUapg3mA6YQG6tb6Skh
- **Описание**: Google Drive с материалами курса: Excel-файлы, скрипты SQL, базы данных (например, Costco.sql).
- **Доступ**: Общий доступ для студентов.
- **Использование**: Скачайте файлы для импорта в MySQL Workbench.
- **Рекомендация**: Организуйте папку на локальном диске для материалов.

В AQA материалы помогают создать тестовые БД для интеграционных тестов.

Связь с другими темами: Материалы — это "ресурсы" для тестирования, аналогично библиотекам в Selenium.

---

#### Slack channel: #qa_sql
- **Описание**: Канал в Slack для обсуждения SQL-вопросов в курсе QA.
- **Использование**: Задавайте вопросы, делитесь примерами запросов, обсуждайте ошибки.
- **Преимущества**: Быстрая помощь от инструкторов и студентов.
- **Рекомендация**: Подпишитесь и используйте для уточнения тем, таких как EER-диаграммы.

В AQA Slack полезен для командной работы над тестами БД.

Связь с другими темами: Канал — это клиент-серверная коммуникация для обмена знаниями.

---

## 2. MySQL Workbench: Обзор и установка

### 2.1. Почему MySQL Workbench?
- **Описание**: MySQL Workbench — бесплатный инструмент от Oracle для работы с MySQL: создание баз, запросы, моделирование.
- **Преимущества**: Графический интерфейс, EER-диаграммы, поддержка импорта/экспорта.
- **Другие инструменты**:
    - **SQL Navigator**: Для Oracle, фокус на производительности (редко используется в AQA).
    - **SQL Assistant**: Упрощённый, для быстрой работы.
    - **Toad**: Мощный, но платный, для крупных проектов.
- **Выбор**: MySQL Workbench — лучший для начинающих, бесплатный и интегрируется с MySQL.

В AQA используется для проверки данных после тестов Selenium.

Связь с другими темами: Workbench — это клиент для сервера MySQL, аналогично Selenium WebDriver.

### 2.2. Установка MySQL/MySQL Workbench
- **Шаги**:
    1. Скачайте MySQL Community Server с [mysql.com](https://dev.mysql.com/downloads/installer/).
    2. Установите MySQL Server и Workbench.
    3. Запустите Workbench: Создайте соединение (localhost, port 3306, user root).
- **Проверка**: Установка успешна, если в Schemas (слева) видна база 'sys' (системная, не трогайте!).
- **Отключение Safe Mode**: Edit → Preferences → SQL Editor → Safe Updates (Forbid UPDATEs and DELETEs) — снимите галочку. Это позволяет выполнять UPDATE/DELETE без WHERE.

Связь с другими темами: Установка аналогична настройке Selenium-драйверов.

---

## 3. Интерфейс MySQL Workbench

### 3.1. Layout (Расположение элементов)
- **Описание**: Интерфейс разделён на панели.
- **Ключевые элементы**:
    - **Верхняя панель**: Меню (File, Edit, Query, Database).
    - **Левая панель**: Schemas (базы данных, таблицы).
    - **Центральная панель**: Редактор запросов, Results Grid (результаты), Action Output (лог действий).
    - **Три кнопки в правом верхнем углу**: Переключают панели (экспериментируйте: скрывают/показывают Results Grid, Action Output, боковую панель).
- **Results Grid**: Отображает результаты запросов (SELECT). Можно лимитировать строки (Query → Limit Rows → Custom).
- **Action Output**: Показывает время выполнения, действия, сообщения, длительность. Читайте ошибки здесь!

В AQA используйте layout для быстрой проверки результатов запросов.

Связь с другими темами: Layout похож на IntelliJ IDEA — панели для кода, результатов и логов.

### 3.2. Schema/Database (на левой панели)
- **Описание**: Schemas — список баз данных (БД).
- **Sys schema**: Системная БД, не трогайте!
- **Проверка структур**: Разверните БД → Tables → Columns для просмотра таблиц, столбцов, связей.
- **Shortcuts**: ПКМ на схеме: Create Table/Schema, Alter Table.
- **Refresh**: Если изменения не видны — ПКМ на пустом месте → Refresh All.

Пример: Импортируйте Costco Database и проверьте таблицы.

Связь с другими темами: Schemas — это "локаторы" для данных, аналогично XPath для элементов.

### 3.3. File (Файлы)
- **Описание**: Работа с SQL-файлами (.sql).
- **Файлы**: .sql можно открыть в Notepad или Workbench.
- **Команды**:
    - New Query Tab: Открыть новую вкладку для запроса.
    - Open SQL Script: Открыть существующий .sql-файл.
    - Save Script as: Сохранить запрос как файл.
- **Применение**: Сохраняйте сложные запросы в файлы для повторного использования в AQA.

Связь с другими темами: Файлы .sql — это "скрипты тестов", аналогично тестам JUnit.

### 3.4. SQL Statements (Запросы)
- **Описание**: Запросы — команды SQL для работы с данными.
- **Запуск**:
    - 2 способа:
        1. Выделите запрос → Query → Execute (All or Selection).
        2. Выделите запрос → Клик на "жёлтую молнию" (shortcut).
- **Комментарии**: 2 способа: `-- текст` или `/* текст */`.
- **Зарезервированные слова**: В зелёном/синем цвете. Чтобы использовать как обычные, оборачивайте в `` (grave accent), например ``database``.
- **Ошибки**: Читайте в Action Output.

Пример запроса:
```sql
-- Простой запрос
SELECT * FROM users WHERE id = 1;
```

В AQA: Используйте для проверки данных после действий в Selenium.

Связь с другими темами: Запросы — это "операторы" для данных, аналогично логическим операторам в тестах.

### 3.5. EER Diagram (Enhanced Entity-Relationship Diagram)
- **Описание**: Графическое представление структуры БД (таблицы, связи).
- **Создание**:
    1. Database → Reverse Engineer.
    2. Next → Next → Выберите БД → Next → Next → Execute → Finish.
- **Результат**: Диаграмма с таблицами, ключами и отношениями (one-to-many и т.д.).
- **Применение**: Визуализация связей в БД Costco для понимания структуры перед запросами.

В AQA: Помогает понять, как данные связаны, для написания JOIN-запросов.

Связь с другими темами: EER — это "структура" БД, аналогично DOM в веб-тестировании.

---

## 4. Рекомендации

- **Установка**: Убедитесь, что 'sys' видна в Schemas — это признак успешной установки.
- **Safe Mode**: Отключите для свободной работы с UPDATE/DELETE.
- **Layout**: Экспериментируйте с панелями для удобства.
- **Refresh**: Всегда обновляйте после изменений.
- **Комментарии**: Используйте для документирования запросов.
- **Ошибки**: Читайте Action Output для отладки.
- **Практика**: Импортируйте Costco DB и создайте EER-диаграмму.

Связь с другими темами: Workbench — инструмент для тестирования БД, аналогично Selenium для UI.

## Источники
- [MySQL Workbench Documentation](https://dev.mysql.com/doc/workbench/en/)
- [MySQL Tutorial](https://www.mysqltutorial.org/)
- [W3Schools SQL Tutorial](https://www.w3schools.com/sql/)
- [Oracle MySQL Downloads](https://dev.mysql.com/downloads/)
